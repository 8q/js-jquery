<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>Xhr2 responseType feature test</title>
	<style type="text/css">
		ul {
			list-style-type:none;
			padding:0;
			margin:0;
		}	
		li {
			padding:10px;
			color:#fff;
			border:1px solid #000;
		}
		.pass {
			background:green;
		 }
		.fail {
			background:red;
		}
	</style>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script type="text/javascript">
	$( document ).ready(function(){
		// check for native XHR2 response type support
		var isSupported = function(responseType){
			if (typeof XMLHttpRequest == 'undefined') {
				return false;
			}
			var xhr = new XMLHttpRequest();
			xhr.open('GET', '/');
			try {
				xhr.responseType = responseType;
			} catch (e) {
				return false;
			}
		   	return xhr.responseType === responseType;
		};
		
		$("#browser").text(navigator.userAgent.toLowerCase());
		
		var detectables = ["blob","arraybuffer"];
		for(i in detectables){
			var l = $("<li/>");
			var s = isSupported(detectables[i]);
			if(s){
				l.addClass('pass');
				l.html(detectables[i]+ " support: <strong>yes</strong>");
			} else {
				l.addClass('fail');
				l.html(detectables[i]+ " support: <strong>no</strong>");
			}
			$("#detectables").append(l);
		}
	});
	</script>
</head>
<body>
<h1>Xhr2 responseType feature test</h1>
<p><strong>Browser:</strong><span id="browser"></span></p>
<ul id="detectables">
</ul>
</body>
</html>